# REST API
REST는 REpresentational State Transfer의 약자로 웹 아키텍처 스타일이다. 소스를 URI로 표현하고, HTTP 메서드를 통해 상태를 주고받는 설계 방식이다. 즉, REST 자체는 프로토콜이 아니라 원칙(Principle) 이고 이를 기반으로 만든 API가 바로 RESTful API 다.

## REST의 핵심 개념
1. 리소스(Resource)
웹에서 다루는 모든 대상(게시글, 유저, 상품 등)은 리소스다. 리소스는 URI로 표현된다.
```text
예:
/users → 사용자 목록
/users/1 → ID가 1인 사용자
```
2. 행위(Verb)
리소스에 대한 행위는 HTTP 메서드로 표현한다.REST는 행위를 URI에 넣지 않는다.

| 행위     | 메서드    | 예시         |
| ------ | ------ | ---------- |
| 조회     | GET    | `/users`   |
| 생성     | POST   | `/users`   |
| 수정(전체) | PUT    | `/users/1` |
| 수정(부분) | PATCH  | `/users/1` |
| 삭제     | DELETE | `/users/1` |

잘못된 예: /getUser, /deleteUser/1
올바른 예: /users, /users/1

3. 표현(Representation)
리소스는 여러 형태로 표현될 수 있다. 보통 JSON 형식이 가장 일반적이지만, XML, YAML 등도 가능하다.
```json
{
  "id": 1,
  "name": "홍길동",
  "email": "hong@example.com"
}
```
클라이언트는 HTTP 헤더의 Accept 를 통해 원하는 표현을 요청할 수 있다.
예: Accept: application/json

## RESTful 설계 원칙
URI 설계, 상태 코드, 명명 규칙 모두 REST의 중요한 부분이다.

### 1. URI는 “명사형”, “계층 구조형”으로 설계

| 잘못된 예 ❌              | 올바른 예 ✅             |
| -------------------- | ------------------- |
| `/getUserInfo`       | `/users/{id}`       |
| `/createPost`        | `/posts`            |
| `/users/updateEmail` | `/users/{id}/email` |

URI는 리소스(명사) 를 나타내야 하며, 행위(동사)는 HTTP 메서드가 담당

### 2. 응답 상태 코드를 올바르게 사용

| 상황           | 상태 코드                       | 설명               |
| ------------ | --------------------------- | ---------------- |
| 요청 성공        | `200 OK`                    | GET 요청 성공        |
| 리소스 생성       | `201 Created`               | POST 요청으로 데이터 생성 |
| 요청 성공, 본문 없음 | `204 No Content`            | DELETE 요청 성공 시   |
| 클라이언트 오류     | `400 Bad Request`           | 요청 형식이 잘못됨       |
| 인증 필요        | `401 Unauthorized`          | 토큰 없음            |
| 권한 없음        | `403 Forbidden`             | 접근 권한 없음         |
| 존재하지 않음      | `404 Not Found`             | 리소스 없음           |
| 서버 오류        | `500 Internal Server Error` | 예기치 못한 에러        |

### 3. 일관된 응답 포맷을 유지
REST API의 응답은 구조가 일관되어야 클라이언트에서 처리하기 편리하다.
```json
{
  "status": 200,
  "message": "요청이 성공했습니다.",
  "data": {
    "id": 1,
    "title": "REST API란?",
    "author": "홍길동"
  }
}
```

### 4. 버전 관리 (Versioning)
API가 변경될 때는 버전을 명시하는 것이 좋다.
예 : /api/v1/users
